
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Mario R. Melchiori">
      
      
        <link rel="canonical" href="https://mrmelchi.github.io/Python_Practico/03_Program_organization/03_Error_checking/">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.50">
    
    
      
        <title>03_Error_checking - Python Practico</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.a40c8224.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#33-comprobacion-de-errores" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Python Practico" class="md-header__button md-logo" aria-label="Python Practico" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Python Practico
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              03_Error_checking
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Python Practico" class="md-nav__button md-logo" aria-label="Python Practico" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Python Practico
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#como-fallan-los-programas" class="md-nav__link">
    <span class="md-ellipsis">
      Cómo fallan los programas
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#excepciones" class="md-nav__link">
    <span class="md-ellipsis">
      Excepciones
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#manejo-de-excepciones" class="md-nav__link">
    <span class="md-ellipsis">
      Manejo de excepciones
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#excepciones-integradas" class="md-nav__link">
    <span class="md-ellipsis">
      Excepciones integradas
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#valores-de-excepcion" class="md-nav__link">
    <span class="md-ellipsis">
      Valores de excepción
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#captura-de-multiples-errores" class="md-nav__link">
    <span class="md-ellipsis">
      Captura de múltiples errores
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#capturar-todos-los-errores" class="md-nav__link">
    <span class="md-ellipsis">
      Capturar todos los errores
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forma-incorrecta-de-capturar-errores" class="md-nav__link">
    <span class="md-ellipsis">
      Forma incorrecta de capturar errores
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enfoque-un-poco-mejor" class="md-nav__link">
    <span class="md-ellipsis">
      Enfoque un poco mejor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#volver-a-generar-una-excepcion" class="md-nav__link">
    <span class="md-ellipsis">
      Volver a generar una excepción
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mejores-practicas-para-excepciones" class="md-nav__link">
    <span class="md-ellipsis">
      Mejores prácticas para excepciones
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instruccion-finally" class="md-nav__link">
    <span class="md-ellipsis">
      Instrucción finally
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instruccion-with" class="md-nav__link">
    <span class="md-ellipsis">
      Instrucción with
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejercicios" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicios
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ejercicios">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejercicio-38-generar-excepciones" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicio 3.8: Generar excepciones
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-39-captura-de-excepciones" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicio 3.9: Captura de excepciones
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-310-silenciamiento-de-errores" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicio 3.10: Silenciamiento de errores
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<p><a href="../../Contents/">Contenido</a> | <a href="../02_More_functions/">Anterior (3.2 Más detalles sobre las
funciones)</a> | <a href="../04_Modules/">Próximo (3.4
Módulos)</a></p>
<h1 id="33-comprobacion-de-errores">3.3 Comprobación de errores</h1>
<p>Aunque las excepciones se introdujeron anteriormente, esta sección
completa algunos detalles adicionales sobre la comprobación de errores y
el manejo de excepciones.</p>
<h2 id="como-fallan-los-programas">Cómo fallan los programas</h2>
<p>Python no realiza ninguna comprobación o validación de los tipos o
valores de los argumentos de la función. Una función funcionará con
cualquier dato que sea compatible con las declaraciones de la función.</p>
<pre><code class="language-python">def add(x, y):
    return x + y

add(3, 4) # 7
add('Hello', 'World') # 'HelloWorld'
add('3', '4') # '34'
</code></pre>
<p>Si hay errores en una función, aparecen en tiempo de ejecución (como una
excepción).</p>
<pre><code class="language-python">def add(x, y):
  return x + y

&gt;&gt;&gt; add(3, '4')
Traceback (most recent call last):
...
TypeError: unsupported operand type(s) for +:
'int' and 'str'
&gt;&gt;&gt;
</code></pre>
<p>Para verificar el código, se hace mucho hincapié en las pruebas (que se
tratan más adelante).</p>
<h2 id="excepciones">Excepciones</h2>
<p>Las excepciones se utilizan para señalar errores. Para generar una
excepción usted mismo, utilice la declaración <code>raise</code>.</p>
<pre><code class="language-python">if name not in authorized:
    raise RuntimeError(f'{name} not authorized')
</code></pre>
<p>Para capturar una excepción, utilice <code>try-except</code>.</p>
<pre><code class="language-python">try:
    authenticate(username)
except RuntimeError as e:
    print(e)
</code></pre>
<h2 id="manejo-de-excepciones">Manejo de excepciones</h2>
<p>Las excepciones se propagan al primer <code>except</code> coincidente.</p>
<pre><code class="language-python">def grok():
    ...
    raise RuntimeError('¡Vaya!') # Excepción generada aquí

def spam():
    grok() # Llamada que generará la excepción

def bar():
    try:
        spam()
    except RuntimeError as e: # Excepción detectada aquí
        ...

def foo():
    try:
        bar()
    except RuntimeError as e: # La excepción NO llega aquí
        ...

foo()
</code></pre>
<p>Para manejar la excepción, coloque declaraciones en el bloque <code>except</code>.
Puede agregar cualquier declaración que desee para manejar el error.</p>
<pre><code class="language-python">def grok():...
    raise RuntimeError('¡Vaya!')

def bar():
    try:
        grok()
    except RuntimeError as e: # Excepción detectada aquí
        declaraciones # Use esta declaración
        declaraciones
        ...

bar()
</code></pre>
<p>Después de la manipulación, la ejecución se reanuda con la primera
declaración después de <code>try-except</code>.</p>
<pre><code class="language-python">def grok(): ...
    raise RuntimeError('¡Vaya!')

def bar():
    try:
      grok()
    except RuntimeError as e: # Excepción detectada aquí
        declaraciones
        declaraciones
        ...
    declaraciones # Reanuda la ejecución aquí
    declaraciones # Y continúa aquí
    ...

bar()
</code></pre>
<h2 id="excepciones-integradas">Excepciones integradas</h2>
<p>Hay alrededor de dos docenas de excepciones integradas. Generalmente el
nombre de la excepción es indicativo de lo que está mal (por ejemplo, se
genera un <code>ValueError</code> porque usted proporcionó un valor incorrecto).
Esta no es una lista exhaustiva. Consulte la
<a href="https://docs.python.org/3/library/exceptions.html">documentación</a> para
obtener más información.</p>
<pre><code class="language-python">ArithmeticError
AssertionError
EnvironmentError
EOFError
ImportError
IndexError
KeyboardInterrupt
KeyError
MemoryError
NameError
ReferenceError
RuntimeError
SyntaxError
SystemError
TypeError
ValueError
</code></pre>
<h2 id="valores-de-excepcion">Valores de excepción</h2>
<p>Las excepciones tienen un valor asociado. Contiene información más
específica sobre lo que está mal.</p>
<pre><code class="language-python">raise RuntimeError('Nombre de usuario no válido')
</code></pre>
<p>Este valor es parte de la instancia de excepción que se coloca en la
variable suministrada a <code>except</code>.</p>
<pre><code class="language-python">try:
...
except RuntimeError as e: # `e` contiene la excepción generada
...
</code></pre>
<p><code>e</code> es una instancia del tipo de excepción. Sin embargo, a menudo parece
una cadena cuando se imprime.</p>
<pre><code class="language-python">except RuntimeError as e:
    print('Falló : Razón', e)
</code></pre>
<h2 id="captura-de-multiples-errores">Captura de múltiples errores</h2>
<p>Puedes capturar diferentes tipos de excepciones usando múltiples bloques
<code>except</code>.</p>
<pre><code class="language-python">try:
...
except LookupError as e:
...
except RuntimeError as e:
...
except IOError as e:
...
except KeyboardInterrupt as e:
...
</code></pre>
<p>Alternativamente, si las instrucciones para manejarlas son las mismas,
puede agruparlas:</p>
<pre><code class="language-python">try:
...
except (IOError,LookupError,RuntimeError) as e:
...
</code></pre>
<h2 id="capturar-todos-los-errores">Capturar todos los errores</h2>
<p>Para capturar cualquier excepción, use <code>Exception</code> de esta manera:</p>
<pre><code class="language-python">try:
...
except Exception: # DANGER. Vea a continuación
    print('Un error ha ocurrido')
</code></pre>
<p>En general, escribir código como ese es una mala idea porque no tendrá
idea de por qué falló.</p>
<h2 id="forma-incorrecta-de-capturar-errores">Forma incorrecta de capturar errores</h2>
<p>Esta es la forma incorrecta de usar excepciones.</p>
<pre><code class="language-python">try:
    go_do_something()
except Exception:
    print('La computadora dice no')
</code></pre>
<p>Esto captura todos los errores posibles y puede hacer que sea imposible
depurar cuando el código falla por alguna razón que no esperabas en
absoluto (por ejemplo, módulo Python desinstalado, etc.).</p>
<h2 id="enfoque-un-poco-mejor">Enfoque un poco mejor</h2>
<p>Si vas a capturar todos los errores, este es un enfoque más sensato.</p>
<pre><code class="language-python">try:
    go_do_something()
except Exception as e:
    print('La computadora dice no. Razón :', e)
</code></pre>
<p>Informa de una razón específica de la falla. Casi siempre es una buena
idea tener algún mecanismo para ver o informar errores cuando escribe
código que captura todas las excepciones posibles.</p>
<p>En general, sin embargo, es mejor capturar el error de la forma más
específica posible. Solo capture los errores que realmente puede
manejar. Deje pasar otros errores, tal vez algún otro código pueda
manejarlos.</p>
<h2 id="volver-a-generar-una-excepcion">Volver a generar una excepción</h2>
<p>Use <code>raise</code> para propagar un error capturado.</p>
<pre><code class="language-python">try:
    go_do_something()
except Exception as e:
    print('La computadora dice no. Razón :', e)
    raise
</code></pre>
<p>Esto le permite tomar medidas (por ejemplo, registrar) y pasar el error
al autor de la llamada.</p>
<h2 id="mejores-practicas-para-excepciones">Mejores prácticas para excepciones</h2>
<p>No capture excepciones. Falle rápido y en voz alta. Si es importante,
alguien más se ocupará del problema. Solo capture una excepción si usted
es <em>esa</em> persona. Es decir, solo captura errores de los que puedas
recuperarte y seguir adelante de forma sensata.</p>
<h2 id="instruccion-finally">Instrucción <code>finally</code></h2>
<p>Especifica el código que debe ejecutarse independientemente de si se
produce o no una excepción.</p>
<pre><code class="language-python">lock = Lock()
...
lock.acquire()
try:
  ...
finally:
    lock.release() # esto SIEMPRE se ejecutará. Con y sin excepción.
</code></pre>
<p>Se utiliza habitualmente para gestionar recursos de forma segura
(especialmente bloqueos, archivos, etc.).</p>
<h2 id="instruccion-with">Instrucción <code>with</code></h2>
<p>En el código moderno, <code>try-finally</code> suele sustituirse por la instrucción
<code>with</code>.</p>
<pre><code class="language-python">lock = Lock()
with lock:
    # bloqueo adquirido
    ...
# bloqueo liberado
</code></pre>
<p>Un ejemplo más familiar:</p>
<pre><code class="language-python">with open(filename) as f:
    # Use el archivo
    ...
# Cierre el archivo
</code></pre>
<p><code>with</code> define un <em>contexto</em> de uso para un recurso. Cuando la ejecución
abandona ese contexto, se liberan los recursos. <code>with</code> sólo funciona con
ciertos objetos que han sido programados específicamente para
soportarlo.</p>
<h2 id="ejercicios">Ejercicios</h2>
<h3 id="ejercicio-38-generar-excepciones">Ejercicio 3.8: Generar excepciones</h3>
<p>La función <code>parse_csv()</code> que escribió en la última sección permite
seleccionar columnas especificadas por el usuario, pero eso sólo
funciona si el archivo de datos de entrada tiene encabezados de columna.</p>
<p>Modifique el código para que se genere una excepción si se pasan los
argumentos <code>select</code> y <code>has_headers=False</code>. Por ejemplo:</p>
<pre><code class="language-python">&gt;&gt;&gt; parse_csv('Data/prices.csv', select=['name','price'], has_headers=False)
Traceback (most recent call last):
File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
File &quot;fileparse.py&quot;, line 9, in parse_csv
raise RuntimeError(&quot;select argument require column headers&quot;)
RuntimeError: select argument require column headers
&gt;&gt;&gt;
</code></pre>
<p>Después de agregar esta verificación, puede preguntarse si debería
realizar otros tipos de verificaciones de integridad en la función. Por
ejemplo, ¿debería verificar que el nombre del archivo sea una cadena,
que los tipos sean una lista o algo de esa naturaleza?</p>
<p>Como regla general, generalmente es mejor omitir dichas pruebas y
simplemente dejar que el programa falle en las entradas incorrectas. El
mensaje de traceback señalará la fuente del problema y puede ayudar en
la depuración.</p>
<p>La razón principal para agregar la comprobación anterior es evitar
ejecutar el código en un modo sin sentido (por ejemplo, usar una función
que requiere encabezados de columna, pero especificar simultáneamente
que no hay encabezados).</p>
<p>Esto indica un error de programación por parte del código que realiza la
llamada. Comprobar los casos que "no deberían ocurrir" suele ser una
buena idea.</p>
<h3 id="ejercicio-39-captura-de-excepciones">Ejercicio 3.9: Captura de excepciones</h3>
<p>La función <code>parse_csv()</code> que escribiste se usa para procesar todo el
contenido de un archivo. Sin embargo, en el mundo real, es posible que
los archivos de entrada tengan datos corruptos, faltantes o sucios.
Pruebe este experimento:</p>
<pre><code class="language-python">&gt;&gt;&gt; portfolio = parse_csv('Data/missing.csv', types=[str, int, float])
Traceback (most recent call last):
File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
File &quot;fileparse.py&quot;, line 36, in parse_csv
row = [func(val) for func, val in zip(types, row)]
ValueError: invalid literal for int() with base 10: ''
&gt;&gt;&gt;
</code></pre>
<p>Modifique la función <code>parse_csv()</code> para capturar todas las excepciones
<code>ValueError</code> generadas durante la creación de registros e imprimir un
mensaje de advertencia para las filas que no se pueden convertir.</p>
<p>El mensaje debe incluir el número de fila e información sobre el motivo
por el que falló. Para probar su función, intente leer el archivo
<code>Data/missing.csv</code> anterior. Por ejemplo:</p>
<pre><code class="language-python">&gt;&gt;&gt; portfolio = parse_csv('Data/missing.csv', types=[str, int, float])
Fila 4: No se pudo convertir ['MSFT', '', '51.23']
Fila 4: Motivo por el que el literal no es válido para int() con base 10: ''
Fila 7: No se pudo convertir ['IBM', '', '70.44']
Fila 7: Motivo por el que el literal no es válido para int() con base 10: ''
&gt;&gt;&gt;
&gt;&gt;&gt; portfolio
[{'price': 32.2, 'name': 'AA', 'shares': 100}, {'price': 91.1, 'name': 'IBM', 'shares': 50}, {'price': 83.44, 'name': 'CAT', 'shares': 150}, {'price': 40,37, 'name': 'GE', 'shares': 95}, {'price': 65,1, 'name': 'MSFT', 'shares': 50}]
&gt;&gt;&gt;
</code></pre>
<h3 id="ejercicio-310-silenciamiento-de-errores">Ejercicio 3.10: Silenciamiento de errores</h3>
<p>Modifique la función <code>parse_csv()</code> para que los mensajes de error de
análisis puedan silenciarse si el usuario lo desea explícitamente. Por
ejemplo:</p>
<pre><code class="language-python">&gt;&gt;&gt; portfolio = parse_csv('Data/missing.csv', types=[str,int,float], silence_errors=True)
&gt;&gt;&gt; portfolio
[{'price': 32.2, 'name': 'AA', 'shares': 100}, {'pricename': 'MSFT', 'shares': 50}]
&gt;&gt;&gt;
</code></pre>
<p>El manejo de errores es una de las cosas más difíciles de hacer bien en
la mayoría de los programas. Como regla general, no debería ignorar los
errores en silencio. En cambio, es mejor informar los problemas y darle
al usuario una opción para silenciar el mensaje de error si así lo
desea.</p>
<p><a href="../../Contents/">Contenido</a> | <a href="../02_More_functions/">Anterior (3.2 Más detalles sobre las
funciones)</a> | <a href="../04_Modules/">Próximo (3.4
Módulos)</a></p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.60a45f97.min.js"></script>
      
    
  </body>
</html>