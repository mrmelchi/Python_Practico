
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Mario R. Melchiori">
      
      
        <link rel="canonical" href="https://mrmelchi.github.io/Python_Practico/07_Advanced_Topics/02_Anonymous_function/">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.50">
    
    
      
        <title>02_Anonymous_function - Python Practico</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.a40c8224.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#72-funciones-anonimas-y-lambda" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Python Practico" class="md-header__button md-logo" aria-label="Python Practico" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Python Practico
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              02_Anonymous_function
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Python Practico" class="md-nav__button md-logo" aria-label="Python Practico" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Python Practico
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#revision-del-ordenamiento-de-listas" class="md-nav__link">
    <span class="md-ellipsis">
      Revisión del ordenamiento de listas
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#funciones-de-devolucion-de-llamada" class="md-nav__link">
    <span class="md-ellipsis">
      Funciones de devolución de llamada
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lambda-funciones-anonimas" class="md-nav__link">
    <span class="md-ellipsis">
      Lambda: Funciones anónimas
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uso-de-lambda" class="md-nav__link">
    <span class="md-ellipsis">
      Uso de lambda
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejercicios" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicios
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ejercicios">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejercicio-75-ordenar-por-un-campo" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicio 7.5: Ordenar por un campo
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-76-ordenar-por-un-campo-con-lambda" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicio 7.6: Ordenar por un campo con lambda
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<p><a href="../../Contents/">Contenido</a> | <a href="../01_Variable_arguments/">Anterior (7.1 Funciones con argumentos variables)</a> | <a href="../03_Returning_functions/">Próximo (7.3 Retornando Funciones y clousures)</a></p>
<h1 id="72-funciones-anonimas-y-lambda">7.2 Funciones anónimas y Lambda</h1>
<h2 id="revision-del-ordenamiento-de-listas">Revisión del ordenamiento de listas</h2>
<p>Las listas se pueden ordenar <em>in situ</em>. Utilizando el método <code>sort</code>.</p>
<pre><code class="language-python">s = [10,1,7,3]
s.sort() # s = [1,3,7,10]
</code></pre>
<p>Puede ordenar en orden inverso.</p>
<pre><code class="language-python">s = [10,1,7,3]
s.sort(reverse=True) # s = [10,7,3,1]
</code></pre>
<p>Parece bastante simple. Sin embargo, ¿cómo ordenamos una lista de diccionarios?</p>
<pre><code class="language-python">[{'name': 'AA', 'price': 32,2, 'shares': 100},
{'name': 'IBM', 'price': 91,1, 'shares': 50},
{'name': 'CAT', 'price': 83,44, 'shares': 150},
{'name': 'MSFT', 'price': 51,23, 'shares': 200},
{'name': 'GE', 'price': 40,37, 'shares': 95},
{'name': 'MSFT', 'price': 65,1, 'shares': 50},
{'name': 'IBM', 'price': 70,44, 'shares': 100}]
</code></pre>
<p>¿Con qué criterios?</p>
<p>Puede guiar la clasificación mediante una <em>función clave</em>. La <em>función clave</em> es una función que recibe el diccionario y devuelve el valor de interés para la clasificación.</p>
<pre><code class="language-python">def stock_name(s):
    return s['name']

portfolio.sort(key=stock_name)
</code></pre>
<p>A continuación se muestra el resultado.</p>
<pre><code class="language-python"># Verifica cómo se ordenan los diccionarios por la clave `name`
[
{'name': 'AA', 'price': 32.2, 'shares': 100},
{'name': 'CAT', 'price': 83.44, 'shares': 150},
{'name': 'GE', 'price': 40.37, 'shares': 95},
{'name': 'IBM', 'price': 91.1, 'shares': 50},
{'name': 'IBM', 'price': 70.44, 'shares': 100},
{'name': 'MSFT', 'price': 51.23, 'shares': 200},
{'name': 'MSFT', 'price': 65.1, 'shares': 50}
]
</code></pre>
<h2 id="funciones-de-devolucion-de-llamada">Funciones de devolución de llamada</h2>
<p>En el ejemplo anterior, la función clave es un ejemplo de una función de devolución de llamada. El método <code>sort()</code> "devuelve la llamada" a una función que usted proporciona. Las funciones de devolución de llamada suelen ser funciones cortas de una sola línea que solo se utilizan para esa operación. Los programadores suelen pedir un atajo para especificar este procesamiento adicional.</p>
<h2 id="lambda-funciones-anonimas">Lambda: Funciones anónimas</h2>
<p>Utilice una lambda en lugar de crear la función. En nuestro ejemplo de ordenación anterior.</p>
<pre><code class="language-python">portfolio.sort(key=lambda s: s['name'])
</code></pre>
<p>Esto crea una función <em>sin nombre</em> que evalúa una <em>única</em> expresión. El código anterior es mucho más corto que el código inicial.</p>
<pre><code class="language-python">def stock_name(s):
    return s['name']

portfolio.sort(key=stock_name)

# vs lambda
portfolio.sort(key=lambda s: s['name'])
</code></pre>
<h2 id="uso-de-lambda">Uso de lambda</h2>
<ul>
<li>Lambda está muy restringida.</li>
<li>Solo se permite una única expresión.</li>
<li>No se permiten declaraciones como <code>if</code>, <code>while</code>, etc.</li>
<li>El uso más común es con funciones como <code>sort()</code>.</li>
</ul>
<h2 id="ejercicios">Ejercicios</h2>
<p>Lea algunos datos de una cartera de acciones y conviértalos en una lista:</p>
<pre><code class="language-python">&gt;&gt;&gt; import report
&gt;&gt;&gt; portfolio = list(report.read_portfolio('Data/portfolio.csv'))
&gt;&gt;&gt; for s in portfolio:
        print(s)

Stock('AA', 100, 32.2)
Stock('IBM', 50, 91.1)
Stock('CAT', 150, 83.44)
Stock('MSFT', 200, 51.23)
Stock('GE', 95, 40.37)
Stock('MSFT', 50, 65.1)
Stock('IBM', 100, 70.44)
&gt;&gt;&gt;
</code></pre>
<h3 id="ejercicio-75-ordenar-por-un-campo">Ejercicio 7.5: Ordenar por un campo</h3>
<p>Pruebe las siguientes instrucciones que ordenan la cartera datos ordenados alfabéticamente por nombre de la acción.</p>
<pre><code class="language-python">&gt;&gt;&gt; def stock_name(s):
        return s.name

&gt;&gt;&gt; portfolio.sort(key=stock_name)
&gt;&gt;&gt; for s in portfolio:
        print(s)

... inspeccionar el resultado...
&gt;&gt;&gt;
</code></pre>
<p>En esta parte, la función <code>stock_name()</code> extrae el nombre de una acción de una sola entrada en la lista <code>portfolio</code>. <code>sort()</code> utiliza el resultado de esta función para hacer la comparación.</p>
<h3 id="ejercicio-76-ordenar-por-un-campo-con-lambda">Ejercicio 7.6: Ordenar por un campo con lambda</h3>
<p>Intenta ordenar la cartera según la cantidad de acciones usando una expresión <code>lambda</code>:</p>
<pre><code class="language-python">&gt;&gt;&gt; portfolio.sort(key=lambda s: s.shares)
&gt;&gt;&gt; for s in portfolio:
        print(s)

... inspeccionar el resultado ...
&gt;&gt;&gt;
</code></pre>
<p>Intenta ordenar la cartera según el precio de cada acción</p>
<pre><code class="language-python">&gt;&gt;&gt; portfolio.sort(key=lambda s: s.price)
&gt;&gt;&gt; for s in portfolio:
        print(s)

... inspeccionar el resultado ...
&gt;&gt;&gt;
</code></pre>
<p>Nota: <code>lambda</code> es un atajo útil porque te permite definir una función de procesamiento especial directamente en la llamada a <code>sort()</code> en lugar de tener que definir una función separada primero.</p>
<p><a href="../../Contents/">Contenido</a> | <a href="../01_Variable_arguments/">Anterior (7.1 Funciones con argumentos variables)</a> | <a href="../03_Returning_functions/">Próximo (7.3 Retornando Funciones y clousures)</a></p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.60a45f97.min.js"></script>
      
    
  </body>
</html>