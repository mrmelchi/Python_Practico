
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Mario R. Melchiori">
      
      
        <link rel="canonical" href="https://mrmelchi.github.io/Python_Practico/02_Working_with_data/04_Sequences/">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.50">
    
    
      
        <title>04_Sequences - Python Practico</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.a40c8224.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#24-secuencias" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Python Practico" class="md-header__button md-logo" aria-label="Python Practico" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Python Practico
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              04_Sequences
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Python Practico" class="md-nav__button md-logo" aria-label="Python Practico" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Python Practico
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#tipos-de-datos-de-secuencia" class="md-nav__link">
    <span class="md-ellipsis">
      Tipos de datos de secuencia
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rebanar" class="md-nav__link">
    <span class="md-ellipsis">
      Rebanar
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reasignacion-de-sectores" class="md-nav__link">
    <span class="md-ellipsis">
      Reasignación de sectores
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#reducciones-de-secuencia" class="md-nav__link">
    <span class="md-ellipsis">
      Reducciones de secuencia
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#declaracion-break" class="md-nav__link">
    <span class="md-ellipsis">
      Declaración break
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#declaracion-continue" class="md-nav__link">
    <span class="md-ellipsis">
      Declaración continue
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#recorriendo-numeros-enteros" class="md-nav__link">
    <span class="md-ellipsis">
      Recorriendo números enteros
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#funcion-enumerate" class="md-nav__link">
    <span class="md-ellipsis">
      Función enumerate()
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#for-y-tuplas" class="md-nav__link">
    <span class="md-ellipsis">
      for y tuplas
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#funcion-zip" class="md-nav__link">
    <span class="md-ellipsis">
      Función zip()
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejercicios" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicios
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ejercicios">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejercicio-213-contar" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicio 2.13: Contar
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-214-mas-operaciones-de-secuencia" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicio 2.14: Más operaciones de secuencia
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-215-un-ejemplo-practico-de-enumerate" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicio 2.15: Un ejemplo práctico de enumerate()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-216-uso-de-la-funcion-zip" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicio 2.16: Uso de la función zip()
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-217-invertir-un-diccionario" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicio 2.17: Invertir un diccionario
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<p><a href="../../Contents/">Contenido</a> | <a href="../03_Formatting/">Anterior (2.3 Salida con
formato)</a> | <a href="../05_Collections/">Próximo (2.5 Módulo
Collections)</a></p>
<h1 id="24-secuencias">2.4 Secuencias</h1>
<h2 id="tipos-de-datos-de-secuencia">Tipos de datos de secuencia</h2>
<p>Python tiene tres tipos de datos de <em>secuencia</em>.</p>
<ul>
<li>Cadena: <code>'Hola'</code>. Una cadena es una secuencia de caracteres. <code>str</code></li>
<li>Lista: <code>[1, 4, 5]</code>. <code>list</code></li>
<li>Tupla: <code>('GOOG', 100, 490.1)</code>. <code>tuple</code></li>
</ul>
<p>Todas las secuencias están ordenadas, indexadas por números enteros y
tienen una longitud.</p>
<pre><code class="language-python">a = 'Hello'               # String
b = [1, 4, 5]             # Lista
c = ('GOOG', 100, 490.1)  # Tupla

# Orden Indexado
a[0]                      # 'H'
b[-1]                     # 5
c[1]                      # 100

# Longitud de la secuencia
len(a)                    # 5
len(b)                    # 3
len(c)                    # 3
</code></pre>
<p>Las secuencias se pueden replicar: <code>s * n</code>.</p>
<pre><code class="language-python">&gt;&gt;&gt; a = 'Hello'
&gt;&gt;&gt; a * 3
'HelloHelloHello'
&gt;&gt;&gt; b = [1, 2, 3]
&gt;&gt;&gt; b * 2
[1, 2, 3, 1, 2, 3]
&gt;&gt;&gt;
</code></pre>
<p>Las secuencias del mismo tipo se pueden concatenar: <code>s + t</code>.</p>
<pre><code class="language-python">&gt;&gt;&gt; a = (1, 2, 3)
&gt;&gt;&gt; b = (4, 5)
&gt;&gt;&gt; a + b
(1, 2, 3, 4, 5)
&gt;&gt;&gt;
&gt;&gt;&gt; c = [1, 5]
&gt;&gt;&gt; a + c
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
TypeError: can only concatenate tuple (not &quot;list&quot;) to tuple
</code></pre>
<h2 id="rebanar">Rebanar</h2>
<p>Rebanar significa tomar una subsecuencia de una secuencia. La sintaxis
es <code>s[inicio:fin]</code>. Donde <code>inicio</code> y <code>fin</code> son los índices de la
subsecuencia que desea.</p>
<pre><code class="language-python">a = [0,1,2,3,4,5,6,7,8]

a[2:5]    # [2,3,4]
a[-5:]    # [4,5,6,7,8]
a[:3]     # [0,1,2]
</code></pre>
<ul>
<li>Los índices <code>inicio</code> y <code>fin</code> deben ser números enteros.</li>
<li>Las porciones <em>no</em> incluyen el valor final. Es como un intervalo
    medio abierto de matemáticas.</li>
<li>Si se omiten los índices, el valor predeterminado es el principio o
    el final de la lista.</li>
</ul>
<h2 id="reasignacion-de-sectores">Reasignación de sectores</h2>
<p>En las listas, las porciones se pueden reasignar y eliminar.</p>
<pre><code class="language-python"># Reasignación
a = [0,1,2,3,4,5,6,7,8]
a[2:4] = [10,11,12]       # [0,1,10,11,12,4,5,6,7,8]
</code></pre>
<p><em>Nota: La porción reasignada no necesita tener la misma longitud.</em></p>
<pre><code class="language-python"># Eliminación
a = [0,1,2,3,4,5,6,7,8]
del a[2:4]                # [0,1,4,5,6,7,8]
</code></pre>
<h2 id="reducciones-de-secuencia">Reducciones de secuencia</h2>
<p>Hay algunas funciones comunes para reducir una secuencia a un solo
valor.</p>
<pre><code class="language-python">&gt;&gt;&gt; s = [1, 2, 3, 4]
&gt;&gt;&gt; sum(s)
10
&gt;&gt;&gt; min(s)
1
&gt;&gt;&gt; max(s)
4
&gt;&gt;&gt; t = ['Hola', 'Mundo']
&gt;&gt;&gt; max(t)
'Mundo'
&gt;&gt;&gt;
</code></pre>
<pre><code>
## Iteración sobre una secuencia

El bucle for itera sobre los elementos de una secuencia.

```python
&gt;&gt;&gt; s = [1, 4, 9, 16]
&gt;&gt;&gt; for i in s:
        print(i)
1
4
9
16
&gt;&gt;&gt;
</code></pre>
<p>En cada iteración del bucle, obtienes un nuevo elemento con el que
trabajar. Este nuevo valor se coloca en la variable de iteración. En
este ejemplo, la variable de iteración es <code>x</code>:</p>
<pre><code class="language-python">for x in s: # `x` es una variable de iteración
  ...declaraciones
</code></pre>
<p>En cada iteración, se sobrescribe el valor anterior de la variable de
iteración (si lo hay). Una vez finalizado el bucle, la variable conserva
el último valor.</p>
<h2 id="declaracion-break">Declaración <code>break</code></h2>
<p>Puede utilizar la declaración <code>break</code> para salir de un bucle antes de
tiempo.</p>
<pre><code class="language-python">for name in namelist:
    if name == 'Jake':
        break
    ...
    ...
declaraciones
</code></pre>
<p>Cuando se ejecuta la declaración <code>break</code>, sale del bucle y pasa a las
siguientes <code>declaraciones</code>. La declaración <code>break</code> sólo se aplica al
bucle más interno. Si este bucle está dentro de otro bucle, no romperá
el bucle externo.</p>
<h2 id="declaracion-continue">Declaración <code>continue</code></h2>
<p>Para omitir un elemento y pasar al siguiente, utilice la instrucción
<code>continue</code>.</p>
<pre><code class="language-python">for line in lines:
    if line == '\n':    # Omite líneas en blanco
        continue
    # Más declaraciones
    ...
</code></pre>
<p>Esto es útil cuando el elemento actual no es de interés o no necesita
ser revisado, ignoradolo en el procesamiento.</p>
<h2 id="recorriendo-numeros-enteros">Recorriendo números enteros</h2>
<p>Si necesita contar, utilice <code>range()</code>.</p>
<pre><code class="language-python">for i in range(100):
    # i = 0,1,...,99
</code></pre>
<p>La sintaxis es <code>range([inicio,] fin [,escalón])</code></p>
<pre><code class="language-python">for i in range(100):
    # i = 0,1,...,99
for j in range(10,20):
    # j = 10,11,..., 19
for k in range(10,50,2):
    # k = 10,12,...,48
    # Observe que se cuenta en escalones de 2, no de 1.
</code></pre>
<ul>
<li>
<p>El valor final nunca se incluye. Espeja el comportamiento de las
    rebanadas.</p>
</li>
<li>
<p><code>start</code> es opcional. Valor predeterminado <code>0</code>.</p>
</li>
<li>
<p><code>step</code> es opcional. Valor predeterminado <code>1</code>.</p>
</li>
<li>
<p><code>range()</code> calcula valores según sea necesario. En realidad no
    almacena un rango amplio de números.</p>
</li>
</ul>
<h2 id="funcion-enumerate">Función enumerate()</h2>
<p>La función <code>enumerate</code> agrega un valor de contador adicional a la
iteración.</p>
<pre><code class="language-python">names = ['Elwood', 'Jake', 'Curtis']
for i, name in enumerate(names):
    # Bucle con i = 0, name = 'Elwood'
    # i = 1, name = 'Jake'
    # i = 2, name = 'Curtis'
</code></pre>
<p>La forma general es <code>enumerate(secuencia [, inicio = 0])</code>. <code>start</code> es
opcional. Un buen ejemplo del uso de <code>enumerate()</code> es el seguimiento de
los números de línea mientras se lee un archivo:</p>
<pre><code class="language-python">with open(filename) as f:
    for lineno, line in enumerate(f, start=1):
        ...
</code></pre>
<p>Al final, <code>enumerate</code> es simplemente un buen atajo para:</p>
<pre><code class="language-python">i = 0
for x in s:
    declaraciones
    i += 1
</code></pre>
<p>El uso de <code>enumerate</code> implica escribir menos y se ejecuta un poco más
rápido.</p>
<h2 id="for-y-tuplas"><code>for</code> y tuplas</h2>
<p>Puedes iterar con múltiples variables de iteración.</p>
<pre><code class="language-python">points = [
  (1, 4),(10, 40),(23, 14),(5, 6),(7, 8)
]
for x, y in points:
    # Bucle con x = 1, y = 4
    #           x = 10, y = 40
    #           x = 23, y = 14
    #           ...
</code></pre>
<p>Cuando se utilizan múltiples variables, cada tupla se <em>desempaqueta</em> en
un conjunto de variables de iteración. El número de variables debe
coincidir con el número de elementos en cada tupla.</p>
<h2 id="funcion-zip">Función <code>zip()</code></h2>
<p>La función <code>zip</code> toma múltiples secuencias y crea un iterador que las
combina.</p>
<pre><code class="language-python">columns = ['name', 'shares', 'price']
values = ['GOOG', 100, 490.1 ]
pairs = zip(columns, values)
# ('name','GOOG'), ('shares',100), ('price',490.1)
</code></pre>
<p>Para obtener el resultado debes iterar. Puedes usar múltiples variables
para desempaquetar las tuplas como se mostró anteriormente.</p>
<pre><code class="language-python">for column, value in pairs:
    ...
</code></pre>
<p>Un uso común de <code>zip</code> es crear pares clave/valor para construir
diccionarios.</p>
<pre><code class="language-python">d = dict(zip(columns, values))
</code></pre>
<h2 id="ejercicios">Ejercicios</h2>
<h3 id="ejercicio-213-contar">Ejercicio 2.13: Contar</h3>
<p>Pruebe algunos ejemplos básicos de conteo:</p>
<pre><code class="language-python">&gt;&gt;&gt; for n in range(10):            # Count 0 ... 9
        print(n, end=' ')

0 1 2 3 4 5 6 7 8 9
&gt;&gt;&gt; for n in range(10,0,-1):       # Count 10 ... 1
        print(n, end=' ')

10 9 8 7 6 5 4 3 2 1
&gt;&gt;&gt; for n in range(0,10,2):        # Count 0, 2, ... 8
        print(n, end=' ')

0 2 4 6 8
&gt;&gt;&gt;
</code></pre>
<h3 id="ejercicio-214-mas-operaciones-de-secuencia">Ejercicio 2.14: Más operaciones de secuencia</h3>
<p>Experimente interactivamente con algunas de las operaciones de reducción
de secuencia.</p>
<pre><code class="language-python">&gt;&gt;&gt; data = [4, 9, 1, 25, 16, 100, 49]
&gt;&gt;&gt; min(data)
1
&gt;&gt;&gt; max(data)
100
&gt;&gt;&gt; sum(data)
204
&gt;&gt;&gt;
</code></pre>
<p>Intente recorrer los datos en un bucle.</p>
<pre><code class="language-python">&gt;&gt;&gt; for x in data:
        print(x)

4
9
...
&gt;&gt;&gt; for n, x in enumerate(data):
        print(n, x)

0 4
1 9
2 1
...
&gt;&gt;&gt;
</code></pre>
<p>A veces, los novatos utilizan la declaración <code>for</code>, <code>len()</code> y <code>range()</code>
en algún tipo de fragmento de código horrible que parece surgido de las
profundidades de un programa C oxidado.</p>
<pre><code class="language-python">&gt;&gt;&gt; for n in range(len(data)):
        print(data[n])

4
9
1
...
&gt;&gt;&gt;
</code></pre>
<p>¡No hagas eso! No sólo leerlo hace sangrar los ojos a todos, sino que
además es ineficiente con la memoria y funciona mucho más lento.
Simplemente use un bucle <code>for</code> normal si desea iterar sobre los datos.
Utilice <code>enumerate()</code> si necesita el índice por algún motivo.</p>
<h3 id="ejercicio-215-un-ejemplo-practico-de-enumerate">Ejercicio 2.15: Un ejemplo práctico de enumerate()</h3>
<p>Recuerde que el archivo <code>Data/missing.csv</code> contiene datos de una cartera
de acciones, pero tiene algunas filas con datos faltantes. Usando
<code>enumerate()</code>, modifique su programa <code>pcost.py</code> para que imprima un
número de línea con el mensaje de advertencia cuando encuentre una
entrada incorrecta.</p>
<pre><code class="language-python">&gt;&gt;&gt; cost = portfolio_cost('Data/missing.csv')
Row 4: Couldn't convert: ['MSFT', '', '51.23'] # Fila 4: No se puede convertir
 Row 7: Couldn't convert: ['IBM', '', '70.44'] # Fila 7: No se puede convertir
&gt;&gt;&gt;
</code></pre>
<p>Para hacer esto, necesitarás cambiar algunas partes de tu código.</p>
<pre><code class="language-python">...
for rowno, row in enumerate(rows, start=1):
    try:
        ...
    except ValueError:
        print(f'Row {rowno}: Bad row: {row}')
</code></pre>
<h3 id="ejercicio-216-uso-de-la-funcion-zip">Ejercicio 2.16: Uso de la función <code>zip()</code></h3>
<p>En el archivo <code>Data/portfolio.csv</code>, la primera línea contiene
encabezados de columna. En todo el código anterior, los hemos estado
descartando.</p>
<pre><code class="language-python">&gt;&gt;&gt; import csv
&gt;&gt;&gt; f = open('Data/portfolio.csv')
&gt;&gt;&gt; rows = csv.reader(f)
&gt;&gt;&gt; headers = next(rows)
&gt;&gt;&gt; headers
['name', 'shares', 'price']
&gt;&gt;&gt;
</code></pre>
<p>Pero ¿qué pasaría si pudieses usar los encabezados para algo útil? Aquí
es donde entra en escena la función <code>zip()</code>. Primero intente esto para
emparejar los encabezados de archivo con una fila de datos:</p>
<pre><code class="language-python">&gt;&gt;&gt; row = next(rows)
&gt;&gt;&gt; row
['AA', '100', '32.20']
&gt;&gt;&gt; list(zip(headers, row))
[ ('name', 'AA'), ('shares', '100'), ('price', '32.20') ]
&gt;&gt;&gt;
</code></pre>
<p>Observe cómo <code>zip()</code> emparejó los encabezados de columna con los valores
de columna. Aquí usamos <code>list()</code> para convertir el resultado en una
lista para que puedas verlo. Normalmente, <code>zip()</code> crea un iterador que
debe ser consumido por un bucle for.</p>
<p>Este emparejamiento es un paso intermedio para construir un diccionario.
Ahora prueba esto:</p>
<pre><code class="language-python">&gt;&gt;&gt; record = dict(zip(headers, row))
&gt;&gt;&gt; record
{'price': '32.20', 'name': 'AA', 'shares': '100'}
&gt;&gt;&gt;
</code></pre>
<p>Esta transformación es uno de los trucos más útiles que debemos conocer
al procesar muchos archivos de datos. Por ejemplo, supongamos que desea
hacer que el programa <code>pcost.py</code> funcione con varios archivos de
entrada, pero sin tener en cuenta el número de columna real donde
aparecen el nombre, las acciones y el precio.</p>
<p>Modifique la función <code>portfolio_cost()</code> en <code>pcost.py</code> para que se vea
así:</p>
<pre><code class="language-python"># pcost.py

def portfolio_cost(filename):
    ...
        for rowno, row in enumerate(rows, start=1):
            record = dict(zip(headers, row))
            try:
                nshares = int(record['shares'])
                price = float(record['price'])
                total_cost += nshares * price
            # Esto detecta errores en las conversiones int() y float() anteriores
            except ValueError:
                print(f'Row {rowno}: Bad row: {row}')
        ...
</code></pre>
<p>Ahora, prueba tu función en un archivo de datos completamente diferente
<code>Data/portfoliodate.csv</code> que se ve así:</p>
<pre><code class="language-csv">name,date,time,shares,price
&quot;AA&quot;,&quot;6/11/2007&quot;,&quot;9:50am&quot;,100,32.20
&quot;IBM&quot;,&quot;5/13/2007&quot;,&quot;4:20pm&quot;,50,91.10
&quot;CAT&quot;,&quot;9/23/2006&quot;,&quot;1:30pm&quot;,150,83.44
&quot;MSFT&quot;,&quot;5/17/2007&quot;,&quot;10:30am&quot;,200,51.23
&quot;GE&quot;,&quot;2/1/2006&quot;,&quot;10:45am&quot;,95,40.37
&quot;MSFT&quot;,&quot;10/31/2006&quot;,&quot;12:05pm&quot;,50,65.10
&quot;IBM&quot;,&quot;7/9/2006&quot;,&quot;3:15pm&quot;,100,70.44
</code></pre>
<pre><code class="language-python">&gt;&gt;&gt; portfolio_cost('Data/portfoliodate.csv')
44671.15
&gt;&gt;&gt;
</code></pre>
<p>Si lo hiciste bien, descubrirás que tu programa aún funciona. aunque el
archivo de datos tiene un formato de columna completamente diferente al
anterior. ¡Eso es genial!</p>
<p>El cambio realizado aquí es sutil, pero significativo. En lugar de que
<code>portfolio_cost()</code> esté codificado para leer un único formato de archivo
fijo, la nueva versión lee cualquier archivo CSV y selecciona los
valores de interés. Siempre que el archivo tenga las columnas
requeridas, el código funcionará.</p>
<p>Modifique el programa <code>report.py</code> que escribió en la Sección 2.3 para
que utilice la misma técnica para seleccionar los encabezados de
columna.</p>
<p>Intente ejecutar el programa <code>report.py</code> en el archivo
<code>Data/portfoliodate.csv</code> y verá que produce la misma respuesta que
antes.</p>
<h3 id="ejercicio-217-invertir-un-diccionario">Ejercicio 2.17: Invertir un diccionario</h3>
<p>Un diccionario asigna claves a valores. Por ejemplo, un diccionario de
precios de acciones.</p>
<pre><code class="language-python">&gt;&gt;&gt; prices = {
        'GOOG' : 490.1,
        'AA' : 23.45,
        'IBM' : 91.1,
        'MSFT' : 34.23
    }
&gt;&gt;&gt;
</code></pre>
<p>Si utiliza el método <code>items()</code>, puede obtener pares <code>(clave, valor)</code>:</p>
<pre><code class="language-python">&gt;&gt;&gt; prices.items()
dict_items([('GOOG', 490.1), ('AA', 23.45), ('IBM', 91.1), ('MSFT', 34.23)])
&gt;&gt;&gt;
</code></pre>
<p>Sin embargo, ¿qué sucede si desea obtener una lista de pares '(valor,
clave)'? <em>Sugerencia: use <code>zip()</code></em>.</p>
<pre><code class="language-python">&gt;&gt;&gt; pricelist = list(zip(prices.values(),prices.keys()))
&gt;&gt;&gt; pricelist
[(490.1, 'GOOG'), (23.45, 'AA'), (91.1, 'IBM'), (34.23, 'MSFT')]
&gt;&gt;&gt;
</code></pre>
<p>¿Por qué harías esto? En primer lugar, permite realizar cierto tipo de
procesamiento con los datos del diccionario.</p>
<pre><code class="language-python">&gt;&gt;&gt; min(pricelist)
(23.45, 'AA')
&gt;&gt;&gt; max(pricelist)
(490.1, 'GOOG')
&gt;&gt;&gt; sorted(pricelist)
[(23.45, 'AA'), (34.23, 'MSFT'), (91.1, 'IBM'), (490.1, 'GOOG')]
&gt;&gt;&gt;
</code></pre>
<p>Esto también ilustra una característica importante de las tuplas. Cuando
se utilizan en comparaciones, las tuplas se comparan elemento por
elemento comenzando con el primer elemento. Similar a cómo se comparan
cadenas, carácter por carácter.</p>
<p><code>zip()</code> se usa a menudo en situaciones como ésta, donde es necesario
emparejar datos de diferentes lugares. Por ejemplo, emparejar los
nombres de las columnas con los valores de las columnas para crear un
diccionario de valores con nombre.</p>
<p>Tenga en cuenta que <code>zip()</code> no está limitado a pares. Por ejemplo,
puedes usarlo con cualquier número de listas de entrada:</p>
<pre><code class="language-python">&gt;&gt;&gt; a = [1, 2, 3, 4]
&gt;&gt;&gt; b = ['w', 'x', 'y', 'z']
&gt;&gt;&gt; c = [0.2, 0.4, 0.6, 0.8]
&gt;&gt;&gt; list(zip(a, b, c))
[(1, 'w', 0.2), (2, 'x', 0.4), (3, 'y', 0.6), (4, 'z', 0.8))]
&gt;&gt;&gt;
</code></pre>
<p>Además, tenga en cuenta que <code>zip()</code> se detiene una vez que se agota la
secuencia de entrada más corta.</p>
<pre><code class="language-python">&gt;&gt;&gt; a = [1, 2, 3, 4, 5, 6]
&gt;&gt;&gt; b = ['x', 'y', 'z']
&gt;&gt;&gt; list(zip(a,b))
[(1, 'x'), (2, 'y'), (3, 'z')]
&gt;&gt;&gt;
</code></pre>
<p><a href="../../Contents/">Contenido</a> | <a href="../03_Formatting/">Anterior (2.3 Salida con
formato)</a> | <a href="../05_Collections/">Próximo (2.5 Módulo
Collections)</a></p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.60a45f97.min.js"></script>
      
    
  </body>
</html>