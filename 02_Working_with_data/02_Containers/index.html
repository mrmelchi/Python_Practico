
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Mario R. Melchiori">
      
      
        <link rel="canonical" href="https://mrmelchi.github.io/Python_Practico/02_Working_with_data/02_Containers/">
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.50">
    
    
      
        <title>02_Containers - Python Practico</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.a40c8224.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#22-contenedores" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Python Practico" class="md-header__button md-logo" aria-label="Python Practico" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Python Practico
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              02_Containers
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Python Practico" class="md-nav__button md-logo" aria-label="Python Practico" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Python Practico
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#descripcion-general" class="md-nav__link">
    <span class="md-ellipsis">
      Descripción general
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#listas-como-contenedor" class="md-nav__link">
    <span class="md-ellipsis">
      Listas como contenedor
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Listas como contenedor">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#construccion-de-listas" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción de listas
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#diccionarios-como-contenedor" class="md-nav__link">
    <span class="md-ellipsis">
      Diccionarios como contenedor
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#construccion-de-diccionarios" class="md-nav__link">
    <span class="md-ellipsis">
      Construcción de diccionarios
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#busquedas-en-el-diccionario" class="md-nav__link">
    <span class="md-ellipsis">
      Búsquedas en el diccionario
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#teclas-compuestas" class="md-nav__link">
    <span class="md-ellipsis">
      Teclas compuestas
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set-conjunto" class="md-nav__link">
    <span class="md-ellipsis">
      Set (Conjunto)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ejercicios" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicios
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Ejercicios">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ejercicio-24-una-lista-de-tuplas" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicio 2.4: Una lista de tuplas
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-25-lista-de-diccionarios" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicio 2.5: Lista de diccionarios
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-26-diccionarios-como-contenedor" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicio 2.6: Diccionarios como contenedor
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejercicio-27-como-saber-si-puedes-jubilarte" class="md-nav__link">
    <span class="md-ellipsis">
      Ejercicio 2.7: Cómo saber si puedes jubilarte
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<p><a href="../../Contents/">Contenido</a> | <a href="../01_Datatypes/">Anterior (2.1 Tipos de
datos)</a> | <a href="../03_Formatting/">Próximo (2.3 Formato)</a></p>
<h1 id="22-contenedores">2.2 Contenedores</h1>
<p>En esta sección se tratan listas, diccionarios y sets (conjuntos).</p>
<h2 id="descripcion-general">Descripción general</h2>
<p>Los programas a menudo tienen que trabajar con muchos objetos.</p>
<ul>
<li>Una cartera de acciones</li>
<li>Una tabla de precios de acciones</li>
</ul>
<p>Hay tres opciones principales para utilizar.</p>
<ul>
<li>Listas. Datos ordenados.</li>
<li>Diccionarios. Datos desordenados.</li>
<li>Sets. Colección desordenada de elementos únicos.</li>
</ul>
<h2 id="listas-como-contenedor">Listas como contenedor</h2>
<p>Utilice una lista cuando el orden de los datos sea importante. Recuerde
que las listas pueden contener cualquier tipo de objeto. Por ejemplo,
una lista de tuplas.</p>
<pre><code class="language-python">portfolio = [
    ('GOOG', 100, 490.1),
    ('IBM', 50, 91.3),
    ('CAT', 150, 83.44)
]

portfolio[0]            # ('GOOG', 100, 490.1)
portfolio[2]            # ('CAT', 150, 83.44)
</code></pre>
<h3 id="construccion-de-listas">Construcción de listas</h3>
<p>Construyendo una lista desde cero.</p>
<pre><code class="language-python">records = []  # Lista vacía inicial

# Use .append() para adicionar màs elementos
records.append(('GOOG', 100, 490.10))
records.append(('IBM', 50, 91.3))
...
</code></pre>
<p>Un ejemplo al leer registros de un archivo.</p>
<pre><code class="language-python">records = []  # Initial empty list

with open('Data/portfolio.csv', 'rt') as f:
    next(f) # salta los encabezados
    for line in f:
        row = line.split(',')
        records.append((row[0], int(row[1]), float(row[2])))
</code></pre>
<h2 id="diccionarios-como-contenedor">Diccionarios como contenedor</h2>
<p>Los diccionarios son útiles si desea realizar búsquedas aleatorias
rápidas (por nombre de clave). Por ejemplo, un diccionario de precios de
acciones:</p>
<pre><code class="language-python">prices = {
   'GOOG': 513.25,
   'CAT': 87.22,
   'IBM': 93.37,
   'MSFT': 44.12
}
</code></pre>
<p>A continuación se muestran algunas búsquedas sencillas:</p>
<pre><code class="language-python">&gt;&gt;&gt; prices['IBM']
93.37
&gt;&gt;&gt; prices['GOOG']
513.25
&gt;&gt;&gt;
</code></pre>
<h2 id="construccion-de-diccionarios">Construcción de diccionarios</h2>
<p>Ejemplo de construcción de un diccionario desde cero.</p>
<pre><code class="language-python">prices = {} # Diccionario vacío inicial

# Insertar nuevos elementos
prices['GOOG'] = 513.25
prices['CAT'] = 87.22
prices['IBM'] = 93.37
</code></pre>
<p>Un ejemplo que completa el dict a partir del contenido de un archivo.</p>
<pre><code class="language-python">prices = {} # Diccionario vacío inicial

with open('Data/prices.csv', 'rt') as f:
    for line in f:
        row = line.split(',')
        prices[row[0]] = float(row[1])
</code></pre>
<p>Nota: si prueba esto en el archivo <code>Data/prices.csv</code>, descubrirá que
casi funciona (hay una línea en blanco al final que hace que se
bloquee). Necesitarás encontrar alguna forma de modificar el código para
tenerlo en cuenta (ver Ejercicio 2.6).</p>
<h2 id="busquedas-en-el-diccionario">Búsquedas en el diccionario</h2>
<p>Puedes probar la existencia de una clave.</p>
<pre><code class="language-python">if key in d:
    # YES
else:
    # NO
</code></pre>
<p>Puede buscar un valor que podría no existir y proporcionar un valor
predeterminado en caso de que no exista.</p>
<pre><code class="language-python">name = d.get(key, default)
</code></pre>
<p>Un ejemplo:</p>
<pre><code class="language-python">&gt;&gt;&gt; prices.get('IBM', 0.0)
93.37
&gt;&gt;&gt; prices.get('SCOX', 0.0)
0.0
&gt;&gt;&gt;
</code></pre>
<h2 id="teclas-compuestas">Teclas compuestas</h2>
<p>Casi cualquier tipo de valor se puede utilizar como clave de diccionario
en Python. Una clave de diccionario debe ser de un tipo que sea
inmutable. Por ejemplo, tuplas:</p>
<pre><code class="language-python">holidays = {
  (1, 1) : 'New Years',
  (3, 14) : 'Pi day',
  (9, 13) : &quot;Programmer's day&quot;,
}
</code></pre>
<p>Luego para acceder:</p>
<pre><code class="language-python">&gt;&gt;&gt; holidays[3, 14]
'Pi day'
&gt;&gt;&gt;
</code></pre>
<p><em>Ni una lista, ni un set, ni otro diccionario pueden servir como clave
de diccionario, porque las listas y los diccionarios son mutables.</em></p>
<h2 id="set-conjunto">Set (Conjunto)</h2>
<p>Los conjuntos son colecciones de elementos únicos no ordenados.</p>
<pre><code class="language-python">tech_stocks = { 'IBM','AAPL','MSFT' }
# Sintaxis alternativa
tech_stocks = set(['IBM', 'AAPL', 'MSFT'])
</code></pre>
<p>Los conjuntos son útiles para las pruebas de pertenencia.</p>
<pre><code class="language-python">&gt;&gt;&gt; tech_stocks
set(['AAPL', 'IBM', 'MSFT'])
&gt;&gt;&gt; 'IBM' in tech_stocks
True
&gt;&gt;&gt; 'FB' in tech_stocks
False
&gt;&gt;&gt;
</code></pre>
<p>Los conjuntos también son útiles para la eliminación de duplicados.</p>
<pre><code class="language-python">names = ['IBM', 'AAPL', 'GOOG', 'IBM', 'GOOG', 'YHOO']

unique = set(names)
# unique = set(['IBM', 'AAPL','GOOG','YHOO'])
</code></pre>
<p>Operaciones de conjunto adicionales:</p>
<pre><code class="language-python">unique.add('CAT')        # Agregar elemento
unique.remove('YHOO')    # Remover un elemento

s1 = { 'a', 'b', 'c'}
s2 = { 'c', 'd' }
s1 | s2                 # Set union { 'a', 'b', 'c', 'd' }
s1 &amp; s2                 # Set intersección { 'c' }
s1 - s2                 # Set diferencia { 'a', 'b' }
</code></pre>
<h2 id="ejercicios">Ejercicios</h2>
<p>En estos ejercicios, comenzará a construir uno de los programas
principales utilizados en el resto de este curso. Realice su trabajo en
el archivo <code>Work/report.py</code>.</p>
<h3 id="ejercicio-24-una-lista-de-tuplas">Ejercicio 2.4: Una lista de tuplas</h3>
<p>El archivo <code>Data/portfolio.csv</code> contiene una lista de acciones en una
cartera. En el <a href="../../01_Introduction/07_Functions/">Ejercicio 1.30</a>,
escribió una función <code>portfolio_cost(filename)</code> que leyó este archivo y
realizó un cálculo simple.</p>
<p>Tu código debería verse así:</p>
<pre><code class="language-python"># pcost.py

import csv

def portfolio_cost(filename):
    '''Calcula el costo total (shares*price) de un archivo de cartera de acciones'''
    total_cost = 0.0

    with open(filename, 'rt') as f:
        rows = csv.reader(f)
        headers = next(rows)
        for row in rows:
            nshares = int(row[1])
            price = float(row[2])
            total_cost += nshares * price
    return total_cost
</code></pre>
<p>Usando este código como guía aproximada, cree un nuevo archivo
<code>report.py</code>. En ese archivo, defina una función
<code>read_portfolio(filename)</code> que abra un archivo de cartera determinado y
lo lea en una lista de tuplas. Para hacer esto, vas a realizar algunas
modificaciones menores al código anterior.</p>
<p>Primero, en lugar de definir <code>total_cost = 0</code>, crearás una variable que
inicialmente estará configurada en una lista vacía. Por ejemplo:</p>
<pre><code class="language-python">portfolio = []
</code></pre>
<p>A continuación, en lugar de sumar el costo, convertirá cada fila en una
tupla exactamente como lo hizo en el último ejercicio y la agregará a
esta lista. Por ejemplo:</p>
<pre><code class="language-python">for row in rows:
    holding = (row[0], int(row[1]), float(row[2]))
    portfolio.append(holding)
</code></pre>
<p>Finalmente, devolverá la lista <code>portfolio</code> resultante.</p>
<p>Experimente con su función de forma interactiva (solo un recordatorio de
que para hacer esto, primero debe ejecutar el programa <code>report.py</code> en el
intérprete):</p>
<p><em>Sugerencia: use <code>-i</code> al ejecutar el archivo en la terminal</em></p>
<pre><code class="language-python">&gt;&gt;&gt; portfolio = read_portfolio('Data/portfolio.csv')
&gt;&gt;&gt; portfolio
[('AA', 100, 32.2), ('IBM', 50, 91.1), ('CAT', 150, 83.44), ('MSFT', 200, 51.23),
    ('GE', 95, 40.37), ('MSFT', 50, 65.1), ('IBM', 100, 70.44)]
&gt;&gt;&gt;
&gt;&gt;&gt; portfolio[0]
('AA', 100, 32.2)
&gt;&gt;&gt; portfolio[1]
('IBM', 50, 91.1)
&gt;&gt;&gt; portfolio[1][1]
50
&gt;&gt;&gt; total = 0.0
&gt;&gt;&gt; for s in portfolio:
        total += s[1] * s[2]

&gt;&gt;&gt; print(total)
44671.15
&gt;&gt;&gt;
</code></pre>
<p>Esta lista de tuplas que ha creado es muy similar a una matriz 2D. Por
ejemplo, puede acceder a una columna y fila específicas mediante una
búsqueda como <code>portfolio[fila][columna]</code>, donde <code>fila</code> y <code>columna</code> son
números enteros.</p>
<p>Dicho esto, también puedes reescribir el último bucle <code>for</code> usando una
declaración como esta:</p>
<pre><code class="language-python">&gt;&gt;&gt; total = 0.0
&gt;&gt;&gt; for name, shares, price in portfolio:
            total += shares*price

&gt;&gt;&gt; print(total)
44671.15
&gt;&gt;&gt;
</code></pre>
<h3 id="ejercicio-25-lista-de-diccionarios">Ejercicio 2.5: Lista de diccionarios</h3>
<p>Tome la función que escribió en el Ejercicio 2.4 y modifíquela para
representar cada acción en la cartera con un diccionario en lugar de una
tupla. En este diccionario, utilice los nombres de campo <code>name</code>,
<code>shares</code> y <code>prices</code>para representar las diferentes columnas en el
archivo de entrada.</p>
<p>Experimente con esta nueva función de la misma manera que lo hizo en el
Ejercicio 2.4.</p>
<pre><code class="language-python">&gt;&gt;&gt; portfolio = read_portfolio('Data/portfolio.csv')
&gt;&gt;&gt; portfolio
[{'name': 'AA', 'shares': 100, 'price': 32.2}, {'name': 'IBM', 'shares': 50, 'price': 91.1},
    {'name': 'CAT', 'shares': 150, 'price': 83.44}, {'name': 'MSFT', 'shares': 200, 'price': 51.23},
    {'name': 'GE', 'shares': 95, 'price': 40.37}, {'name': 'MSFT', 'shares': 50, 'price': 65.1},
    {'name': 'IBM', 'shares': 100, 'price': 70.44}]
&gt;&gt;&gt; portfolio[0]
{'name': 'AA', 'shares': 100, 'price': 32.2}
&gt;&gt;&gt; portfolio[1]
{'name': 'IBM', 'shares': 50, 'price': 91.1}
&gt;&gt;&gt; portfolio[1]['shares']
50
&gt;&gt;&gt; total = 0.0
&gt;&gt;&gt; for s in portfolio:
        total += s['shares']*s['price']

&gt;&gt;&gt; print(total)
44671.15
&gt;&gt;&gt;
</code></pre>
<p>Aquí, notarás que se accede a los diferentes campos de cada entrada
mediante nombres de clave en lugar de números de columna numéricos. A
menudo se prefiere esto porque el código resultante es más fácil de leer
más adelante.</p>
<p>Visualizar diccionarios y listas grandes puede resultar complicado. Para
limpiar la salida para la depuración, considere usar la función
<code>pprint</code>.</p>
<pre><code class="language-python">&gt;&gt;&gt; from pprint import pprint
&gt;&gt;&gt; pprint(portfolio)
[{'name': 'AA', 'price': 32.2, 'shares': 100},
    {'name': 'IBM', 'price': 91.1, 'shares': 50},
    {'name': 'CAT', 'price': 83.44, 'shares': 150},
    {'name': 'MSFT', 'price': 51.23, 'shares': 200},
    {'name': 'GE', 'price': 40.37, 'shares': 95},
    {'name': 'MSFT', 'price': 65.1, 'shares': 50},
    {'name': 'IBM', 'price': 70.44, 'shares': 100}]
&gt;&gt;&gt;
</code></pre>
<h3 id="ejercicio-26-diccionarios-como-contenedor">Ejercicio 2.6: Diccionarios como contenedor</h3>
<p>Un diccionario es una forma útil de realizar un seguimiento de los
elementos, en los que desea buscar elementos utilizando un índice que no
sea un número entero. En el modo interactivo de Python, intenta jugar con un
diccionario:</p>
<pre><code class="language-python">&gt;&gt;&gt; prices = { }
&gt;&gt;&gt; prices['IBM'] = 92.45
&gt;&gt;&gt; prices['MSFT'] = 45.12
&gt;&gt;&gt; prices
... vea el resultado ...
&gt;&gt;&gt; prices['IBM']
92.45
&gt;&gt;&gt; prices['AAPL']
... vea el resultado ...
&gt;&gt;&gt; 'AAPL' in prices
False
&gt;&gt;&gt;
</code></pre>
<p>El archivo <code>Data/prices.csv</code> contiene una serie de líneas con precios de
acciones. El archivo se parece a esto:</p>
<pre><code class="language-csv">&quot;AA&quot;,9.22
&quot;AXP&quot;,24.85
&quot;BA&quot;,44.85
&quot;BAC&quot;,11.27
&quot;C&quot;,3.72
...
</code></pre>
<p>Escriba una función <code>read_prices(filename)</code> que lea un conjunto de
precios como este en un diccionario donde las claves del diccionario son
los nombres de las acciones y los valores en el diccionario son los
precios de las acciones.</p>
<p>Para hacer esto, comience con un diccionario vacío y comience a insertar
valores en él tal como lo hizo anteriormente. Sin embargo, ahora estás
leyendo los valores de un archivo.</p>
<p>Utilizaremos esta estructura de datos para buscar rápidamente el precio
de una acción determinada.</p>
<p>Algunos pequeños consejos que necesitarás para esta parte. Primero,
asegúrate de utilizar el módulo <code>csv</code> tal como lo hiciste antes; no es
necesario reinventar la rueda aquí.</p>
<pre><code class="language-python">&gt;&gt;&gt; import csv
&gt;&gt;&gt; f = open('Data/prices.csv', 'r')
&gt;&gt;&gt; rows = csv.reader(f)
&gt;&gt;&gt; for row in rows:
        print(row)


['AA', '9.22']
['AXP', '24.85']
...
[]
&gt;&gt;&gt;
</code></pre>
<p>La otra pequeña complicación es que el archivo <code>Data/prices.csv</code> puede
tener algunas líneas en blanco. Observe cómo la última fila de datos
anterior es una lista vacía, lo que significa que no había datos
presentes en esa línea.</p>
<p>Existe la posibilidad de que esto provoque que su programa muera con una
excepción. Utilice las instrucciones <code>try</code> y <code>except</code> para detectar esto
según corresponda. Pensamiento: ¿sería mejor protegerse contra datos
erróneos con una declaración <code>if</code>?</p>
<p>Una vez que haya escrito su función <code>read_prices()</code>, pruébela de forma
interactiva para asegurarse de que funciona:</p>
<pre><code class="language-python">&gt;&gt;&gt; prices = read_prices('Data/prices.csv')
&gt;&gt;&gt; prices['IBM']
106.28
&gt;&gt;&gt; prices['MSFT']
20.89
&gt;&gt;&gt;
</code></pre>
<h3 id="ejercicio-27-como-saber-si-puedes-jubilarte">Ejercicio 2.7: Cómo saber si puedes jubilarte</h3>
<p>Conecte todo este trabajo agregando algunas declaraciones adicionales a
su programa <code>report.py</code> que calcula la ganancia/pérdida. Estas
afirmaciones deben tomar la lista de acciones del Ejercicio 2.5 y el
diccionario de precios del Ejercicio 2.6 y calcular el valor actual de
la cartera junto con la ganancia/pérdida. Si ejecuta:</p>
<pre><code class="language-bash">bash % python3 -i report.py
</code></pre>
<p>La salida debería verse así:</p>
<pre><code class="language-python">Total cost 44671.15
Current value 28686.1
Gain/Loss -15985.050000000003
</code></pre>
<p><a href="../../Contents/">Contenido</a> | <a href="../01_Datatypes/">Anterior (2.1 Tipos de
datos)</a> | <a href="../03_Formatting/">Próximo (2.3 Salida con
formato)</a></p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.60a45f97.min.js"></script>
      
    
  </body>
</html>